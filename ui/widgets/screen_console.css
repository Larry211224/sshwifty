/*
// Sshwifty - A Web SSH client
//
// Copyright (C) 2019-2025 Ni Rui <ranqus@gmail.com>
//
// This program is free software: you can redistribute it and/or modify
// it under the terms of the GNU Affero General Public License as
// published by the Free Software Foundation, either version 3 of the
// License, or (at your option) any later version.
//
// This program is distributed in the hope that it will be useful,
// but WITHOUT ANY WARRANTY; without even the implied warranty of
// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
// GNU Affero General Public License for more details.
//
// You should have received a copy of the GNU Affero General Public License
// along with this program.  If not, see <https://www.gnu.org/licenses/>.
*/

@charset "utf-8";

@import "~hack-font/build/web/hack.css";
@import "~@azurity/pure-nerd-font/pure-nerd-font.css";

#connector-resource-preload-control-console {
  font-family: PureNerdFont, Hack;
}
#connector-resource-preload-control-console::after {
  content: " ";
  font-family: PureNerdFont, Hack;
  font-weight: bold;
}
#connector-resource-preload-control-console::before {
  content: " ";
  font-family: PureNerdFont, Hack;
  font-style: italic;
}

#home-content > .screen > .screen-screen > .screen-console {
  position: relative;
  min-height: 1px;
  display: flex;
  flex-direction: column;
}

.console-console-wrapper > .console-toolbar {
  position: absolute;
  top: 0;
  right: 0;
  min-width: 600px;
  max-height: 100%;
  overflow: auto;
  background: #222;
  color: #fff;
  box-shadow: 0 3px 12px #0006;
  z-index: 20;
}

.console-toolbar > .console-toolbar-group.console-toolbar-group-left {
  border-right: 1px solid #0001;
  margin-right: -1px;
  float: left;
}

.console-toolbar > .console-toolbar-group.console-toolbar-group-main {
  border-left: 1px solid #0001;
  overflow: auto;
}

.console-toolbar > .console-toolbar-group > .console-toolbar-item {
  padding: 15px;
  float: left;
}

.console-toolbar > .console-toolbar-group > .console-toolbar-item .tb-title {
  font-size: 0.7em;
  text-transform: uppercase;
  margin: 0 0 5px 10px;
  color: #fff9;
  text-shadow: 1px 1px 1px #0005;
}

.console-toolbar > .console-toolbar-group > .console-toolbar-item .tb-item {
  display: block;
  font-size: 0.7em;
  padding: 10px;
  text-decoration: none;
  color: inherit;
  border-radius: 3px;
}

.console-toolbar > .console-toolbar-group > .console-toolbar-item .tb-item:active {
  background: #fff3;
}

.console-toolbar > .console-toolbar-group > .console-toolbar-item .tb-item > .tb-key-icon {
  margin: 0 5px;
  background: #fff2;
  color: #fff;
}

.console-toolbar > .console-toolbar-group > .console-toolbar-item .tb-item > .tb-key-icon.tb-key-resize-icon {
  display: block;
  padding: 5px;
}

.console-toolbar > .console-toolbar-group > .console-toolbar-item .tb-item > .tb-key-icon:first-child {
  margin-left: 0;
}

.console-toolbar > .console-toolbar-group > .console-toolbar-item .tb-item > .tb-key-icon:last-child {
  margin-right: 0;
}

.console-toolbar > .console-toolbar-group > .console-toolbar-item .tb-item:active .tb-key-icon {
  opacity: 0.5;
}

#home-content > .screen > .screen-screen > .screen-console > .console-console {
  color: #fff;
  width: 100%;
  height: 100%;
  padding: 0;
  margin: 0;
  position: relative;
  z-index: 0;
}

#home-content
  > .screen
  > .screen-screen
  > .screen-console
  > .console-console
  > .console-loading {
  width: 100%;
  height: 100%;
  padding: 0;
  margin: 0;
  display: flex;
  flex-direction: row;
  align-items: center;
}

#home-content
  > .screen
  > .screen-screen
  > .screen-console
  > .console-console
  > .console-loading
  > .console-loading-frame {
  text-align: center;
  font-size: 1em;
  font-weight: lighter;
  padding: 20px;
  margin: 10px auto;
  flex: auto;
}

#home-content
  > .screen
  > .screen-screen
  > .screen-console
  > .console-console
  > .console-loading
  > .console-loading-frame
  > .console-loading-icon {
  background: url(./busy.svg) 50% no-repeat;
  width: 100%;
  height: 100px;
}

/* File panel & main area layout */
#home-content > .screen > .screen-screen > .screen-console > .console-main-area {
  display: flex;
  flex-direction: row;
  width: 100%;
  flex: 1;
  min-height: 0;
  position: relative;
  z-index: 1;
}

#home-content > .screen > .screen-screen > .screen-console > .console-main-area > .console-console-wrapper {
  flex: 1;
  min-width: 0;
  position: relative;
  height: 100%;
  overflow: visible;
}

#home-content > .screen > .screen-screen > .screen-console > .console-main-area > .console-console-wrapper > .console-console {
  color: #fff;
  width: 100%;
  height: 100%;
  padding: 0;
  margin: 0;
  position: relative;
  z-index: 0;
}

/* File panel */
.file-panel {
  width: 260px;
  min-width: 260px;
  max-width: 260px;
  height: 100%;
  background: #1e1e1e;
  color: #ccc;
  display: flex;
  flex-direction: column;
  border-right: none;
  overflow: hidden;
  font-size: 13px;
  z-index: 2;
  box-shadow: 2px 0 12px #0006;
  margin-right: 0;
}

.file-panel-topbar {
  display: flex;
  align-items: center;
  padding: 0 8px 0 12px;
  height: 32px;
  min-height: 32px;
  background: #252525;
  border-bottom: 1px solid #ffffff08;
  gap: 6px;
}

.file-panel-topbar .file-panel-breadcrumb {
  flex: 1;
  min-width: 0;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.breadcrumb-item {
  color: #777;
  text-decoration: none;
  font-size: 11px;
  transition: color 0.1s;
}
.breadcrumb-item:hover { color: #e9a; }
.breadcrumb-item::after { content: " / "; color: #444; }
.breadcrumb-item:last-child::after { content: ""; }
.breadcrumb-item:last-child { color: #ccc; }
.breadcrumb-item.breadcrumb-root::after { content: " "; }

.file-panel-actions {
  display: flex;
  align-items: center;
  gap: 2px;
  flex-shrink: 0;
}

.fp-btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 22px;
  height: 22px;
  background: transparent;
  color: #555;
  text-decoration: none;
  border-radius: 4px;
  font-size: 13px;
  cursor: pointer;
  border: none;
  transition: all 0.15s;
  line-height: 1;
}
.fp-btn:hover { background: #ffffff12; color: #ccc; }
.fp-btn:active { background: #ffffff08; }
.fp-btn-close { color: #555; font-size: 11px; }
.fp-btn-close:hover { color: #f88; background: #ff000015; }

.file-panel-loading, .file-panel-error {
  padding: 12px 14px;
  font-size: 12px;
  color: #888;
}
.file-panel-error { color: #e74c3c; }

.file-list {
  flex: 1;
  overflow-y: auto;
  overflow-x: hidden;
}

.file-panel ::-webkit-scrollbar {
  width: 4px;
}
.file-panel ::-webkit-scrollbar-track {
  background: transparent;
}
.file-panel ::-webkit-scrollbar-thumb {
  background: #ffffff20;
  border-radius: 4px;
}
.file-panel ::-webkit-scrollbar-thumb:hover {
  background: #ffffff40;
}

.file-item {
  display: flex;
  align-items: center;
  padding: 6px 14px;
  cursor: pointer;
  border-bottom: 1px solid #ffffff06;
  gap: 8px;
  transition: background 0.1s;
}
.file-item:hover { background: #ffffff0d; }

.file-icon {
  flex-shrink: 0;
  width: 20px;
  height: 20px;
  line-height: 20px;
  text-align: center;
  font-size: 11px;
  font-weight: bold;
  border-radius: 3px;
}
.file-icon-dir {
  background: #e9a;
  color: #533;
}
.file-icon-file {
  background: #ffffff15;
  color: #888;
}

.file-name {
  flex: 1;
  min-width: 0;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  color: #ccc;
}

.file-size {
  flex-shrink: 0;
  font-size: 11px;
  color: #666;
  margin-left: auto;
  padding: 0 4px;
}

.file-action {
  flex-shrink: 0;
  color: #777;
  text-decoration: none;
  padding: 2px 8px;
  font-size: 10px;
  border: 1px solid #ffffff12;
  border-radius: 3px;
  margin-left: 2px;
  background: #ffffff08;
  transition: background 0.15s, color 0.15s, border-color 0.15s;
}
.file-action:hover { color: #fff; background: #ffffff20; border-color: #ffffff30; }
.file-action-delete { color: #a77; }
.file-action-delete:hover { color: #f88; background: #ff000018; border-color: #f884; }

.file-transfers {
  border-top: 1px solid #ffffff0a;
  max-height: 160px;
  overflow-y: auto;
}

.transfer-title {
  padding: 8px 14px 4px;
  font-size: 11px;
  font-weight: bold;
  color: #888;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.transfer-item {
  padding: 6px 14px;
  font-size: 12px;
  border-bottom: 1px solid #ffffff06;
}

.transfer-info {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.transfer-name {
  flex: 1;
  min-width: 0;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  color: #bbb;
}

.transfer-status {
  flex-shrink: 0;
  font-size: 11px;
  font-weight: 600;
  padding-left: 8px;
}

.transfer-active {
  color: #3c8;
}

.transfer-speed {
  margin-left: 6px;
  font-size: 0.85em;
  color: #9be;
  font-weight: normal;
}

.transfer-queued {
  color: #886;
  font-style: italic;
  font-weight: normal;
}

.transfer-failed {
  color: #f66;
}

.transfer-bar-bg {
  margin-top: 4px;
  height: 3px;
  background: #ffffff0a;
  border-radius: 2px;
  overflow: hidden;
}

.transfer-bar-fill {
  height: 100%;
  background: #3c8;
  border-radius: 2px;
  transition: width 0.15s ease;
}

/* File panel resize handle */
.file-panel-resize {
  width: 6px;
  min-width: 6px;
  cursor: col-resize;
  background: transparent;
  transition: background 0.15s;
  flex-shrink: 0;
}
.file-panel-resize:hover {
  background: #ee9a4040;
}
.file-panel-resize:active {
  background: #ee9a6060;
}

/* SFTP floating pill button */
.sftp-pill {
  position: absolute;
  bottom: 12px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 5;
  padding: 4px 18px;
  font-size: 11px;
  font-weight: 600;
  letter-spacing: 1.5px;
  text-transform: uppercase;
  text-decoration: none;
  color: #aaa;
  background: rgba(50, 50, 50, 0.6);
  backdrop-filter: blur(6px);
  -webkit-backdrop-filter: blur(6px);
  border: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: 20px;
  cursor: pointer;
  transition: all 0.25s ease;
  user-select: none;
}

.sftp-pill:hover {
  color: #2a2a2a;
  background: #e9a;
  border-color: #e9a;
  box-shadow: 0 2px 12px rgba(238, 153, 170, 0.35);
  transform: translateX(-50%) translateY(-1px);
}

.sftp-pill:active {
  transform: translateX(-50%) translateY(0);
  box-shadow: 0 1px 4px rgba(238, 153, 170, 0.25);
}

/* Drag-and-drop overlay */
.drop-overlay {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(42, 42, 42, 0.88);
  z-index: 10;
  display: flex;
  align-items: center;
  justify-content: center;
  pointer-events: none;
}

.drop-overlay-text {
  color: #e9a;
  font-size: 18px;
  font-weight: bold;
  padding: 20px 40px;
  border: 3px dashed #888;
  border-radius: 12px;
}
